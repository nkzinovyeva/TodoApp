<!-- 

<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      >
<head>
<title>Todo list</title>
	<meta charset='utf-8' content="Cory Sanoy" name="Author" />
	
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

	<link href="http://fullcalendar.io/js/fullcalendar-2.2.5/fullcalendar.css" 
			th:href="@{/webjars/fullcalendar/2.2.5/fullcalendar.css}" rel="stylesheet"></link>
	<link href="http://fullcalendar.io/js/fullcalendar-2.2.5/fullcalendar.print.css" 
			th:href="@{/webjars/fullcalendar/2.2.5/fullcalendar.print.css}" rel="stylesheet" media="print"></link>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"
	        th:src="@{/webjars/momentjs/2.9.0/min/moment.min.js}" type="text/javascript"></script>
	<script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.3/jquery.min.js"
	        th:src="@{/webjars/jquery/2.1.3/jquery.min.js}" type="text/javascript"></script>
	<script src="http://fullcalendar.io/js/fullcalendar-2.2.5/fullcalendar.min.js"
			th:src="@{/webjars/fullcalendar/2.2.5/fullcalendar.min.js}" type="text/javascript"></script>

<script>
$(document).ready(function() {
	$('#calendar').fullCalendar({
		header: {
			left: 'prev,next today',
			center: 'title',
			right: 'month,agendaWeek,agendaDay'
		},
		defaultDate: '2020-07-01',
		editable: true,
		eventLimit: true, // allow "more" link when too many events
		events: {
	        url: '/alltasks',
	        type: 'GET',
	        error: function() {
	            alert('there was an error while fetching events!');
	        },
	        //color: 'blue',   // a non-ajax option
	        //textColor: 'white' // a non-ajax option
	    }
	});
});
</script>

<style>

	body {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#calendar {
		max-width: 900px;
		margin: 0 auto;
	}

</style>
			
</head>
<body>
<div class="w3-container w3-green">
  <h1>to do app</h1> 
  <div >
		<h3 th:inline="text">Welcome [[${#httpServletRequest.remoteUser}]]</h3>
	</div> 
	<div >
		<form th:action="@{/logout}" method="post">
			<input type="submit" value="Sign Out" />
		</form>
	</div>
  
</div>
<div class="w3-row-padding">
  <div class="w3-third">
    <h2>To do</h2>
    <table>
		<tr>
			<th>Title</th>
			<th>Description</th >
			<th>Priority</th>
			<th>Creator</th >
			<th></th>
			<th></th>
		</tr>
			<tr th:each= "task : ${tasks}">
				<td  th:text="${task.title}"></td>
				<td  th:text="${task.description}"></td>
				<td  th:text="${task.priority.name}"></td>
				<td  th:text="${task.user.name}"></td>
				<td sec:authorize="hasAuthority('ADMIN')"><a th:href="@{/delete/{id}(id=${task.id})}">Delete</a></td>
				<td><a th:href="@{/edit/{id}(id=${task.id})}">Edit</a></td>
			</tr>
		</table>
	<a href="/add">Add Task</a>
  </div>

  <div class="w3-half" >
    <h2>Calendar</h2>
    
    <div id='calendar' th:id="calendar"></div>
  </div>
	</div>
</body>
</html>
 -->